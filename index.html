<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Partido de Fútbol Sala</title>
  <style>
    #campo {
      background-image: url('futsal_field_background.jpeg'); /* Fondo del campo */
      width: 740px;
      height: 529px;
      position: relative;
      margin: 20px auto;
      border: 2px solid #333;
    }
    .jugador {
      width: 50px;
      height: 50px;
      background-color: blue;
      border-radius: 50%;
      text-align: center;
      line-height: 50px;
      color: white;
      position: absolute;
      cursor: pointer;
    }
    #jugador1 { top: 250px; left: 100px; }
    #jugador2 { top: 100px; left: 250px; }
    #jugador3 { top: 350px; left: 250px; }
    #jugador4 { top: 100px; left: 500px; }
    #jugador5 { top: 350px; left: 500px; }
    #timer {
      text-align: center;
      font-size: 20px;
      margin-top: 10px;
    }
    #accionesJugador {
      display: none;
      text-align: center;
      margin-top: 20px;
    }
    #cambioJugador {
      display: none;
      text-align: center;
      margin-top: 20px;
    }
  </style>
</head>
<body>

  <h1 style="text-align: center;">Partido de Fútbol Sala</h1>
  
  <!-- Campo de fútbol sala -->
  <div id="campo">
    <div class="jugador" id="jugador1"></div>
    <div class="jugador" id="jugador2"></div>
    <div class="jugador" id="jugador3"></div>
    <div class="jugador" id="jugador4"></div>
    <div class="jugador" id="jugador5"></div>
  </div>

  <!-- Temporizador -->
  <div id="timer">Tiempo: 0s</div>

  <!-- Desplegable para jugadores convocados -->
  <div style="text-align: center; margin-top: 20px;">
    <label for="jugadoresConvocados">Jugadores Convocados: </label>
    <select id="jugadoresConvocados" multiple size="5"></select>
  </div>

  <!-- Botón para iniciar el partido -->
  <div style="text-align: center; margin-top: 20px;">
    <button id="iniciarPartido">Iniciar Partido</button>
  </div>

  <!-- Sección para realizar acciones sobre un jugador -->
  <div id="accionesJugador">
    <label for="selectAccion">Seleccionar acción para el jugador: </label>
    <select id="selectAccion">
      <option value="gol">Gol</option>
      <option value="asistencia">Asistencia</option>
      <option value="tarjeta">Tarjeta</option>
      <option value="cambio">Cambiar jugador</option>
    </select>
    <button id="confirmarAccion">Confirmar Acción</button>
  </div>

  <!-- Sección para realizar cambios de jugadores -->
  <div id="cambioJugador">
    <label for="selectBanquillo">Seleccionar jugador del banquillo: </label>
    <select id="selectBanquillo"></select>
    <button id="confirmarCambio">Confirmar Cambio</button>
  </div>

  <script>
    // Mock de jugadores
    const jugadoresConvocados = [
      'Rubi', 'Peru', 'Javi O.', 'Christian', 'Mini', 'Adrián', 'Mario', 'Javi R.', 'Raúl'
    ];

    let jugadoresEnCancha = ['Rubi', 'Peru', 'Javi O.', 'Christian', 'Mini'];
    let jugadoresEnBanquillo = jugadoresConvocados.filter(jugador => !jugadoresEnCancha.includes(jugador));

    const jugadoresElements = document.querySelectorAll('.jugador');
    const selectConvocados = document.getElementById('jugadoresConvocados');
    const accionesJugadorDiv = document.getElementById('accionesJugador');
    const cambioJugadorDiv = document.getElementById('cambioJugador');
    const selectAccion = document.getElementById('selectAccion');
    const selectBanquillo = document.getElementById('selectBanquillo');
    let jugadorSeleccionadoParaAccion = null;
    let jugadorSeleccionadoParaCambio = null;

    // Función para actualizar los jugadores en la cancha visualmente
    function actualizarCancha() {
      jugadoresEnCancha.forEach((jugador, index) => {
        jugadoresElements[index].textContent = jugador;
      });
    }

    // Cargar los jugadores convocados en el desplegable
    function cargarJugadoresConvocados() {
      selectConvocados.innerHTML = '';
      jugadoresConvocados.forEach(jugador => {
        const option = document.createElement('option');
        option.value = jugador;
        option.textContent = jugador;
        if (!jugadoresEnCancha.includes(jugador)) {
          selectConvocados.appendChild(option);
        }
      });
    }

    // Cargar los jugadores disponibles en el banquillo en el desplegable
    function cargarBanquillo() {
      selectBanquillo.innerHTML = '';
      jugadoresEnBanquillo.forEach(jugador => {
        const option = document.createElement('option');
        option.value = jugador;
        option.textContent = jugador;
        selectBanquillo.appendChild(option);
      });
    }

    // Función para iniciar el temporizador
    let tiempo = 0;
    let temporizador;
    function iniciarTemporizador() {
      temporizador = setInterval(() => {
        tiempo++;
        document.getElementById('timer').textContent = `Tiempo: ${tiempo}s`;
      }, 1000);
    }

    // Añadir eventos de clic a los jugadores para seleccionar acción
    jugadoresElements.forEach(jugadorElement => {
      jugadorElement.addEventListener('click', () => {
        jugadorSeleccionadoParaAccion = jugadorElement;
        accionesJugadorDiv.style.display = 'block'; // Mostrar menú de acciones
      });
    });

    // Evento para confirmar la acción seleccionada
    document.getElementById('confirmarAccion').addEventListener('click', () => {
      const accionSeleccionada = selectAccion.value;
      if (jugadorSeleccionadoParaAccion && accionSeleccionada) {
        switch (accionSeleccionada) {
          case 'gol':
            console.log(`${jugadorSeleccionadoParaAccion.textContent} ha metido gol`)
            break;
          case 'asistencia':
            console.log(`${jugadorSeleccionadoParaAccion.textContent} ha dado asistencia`);
            break;
          case 'tarjeta':
            console.log(`${jugadorSeleccionadoParaAccion.textContent} ha recibido tarjeta`);
            break;
          case 'cambio':
            // Mostrar la sección de cambio de jugador
            cambioJugadorDiv.style.display = 'block';
            jugadorSeleccionadoParaCambio = jugadorSeleccionadoParaAccion;
            cargarBanquillo();
            break;
        }
        accionesJugadorDiv.style.display = 'none'; // Ocultar la sección de acciones después de confirmar
      }
    });

    // Evento para confirmar el cambio de jugador
    document.getElementById('confirmarCambio').addEventListener('click', () => {
      const jugadorSeleccionado = selectBanquillo.value;
      if (jugadorSeleccionadoParaCambio && jugadorSeleccionado) {
        const index = jugadoresEnCancha.indexOf(jugadorSeleccionadoParaCambio.textContent);
        jugadoresEnCancha[index] = jugadorSeleccionado;
        jugadoresEnBanquillo = jugadoresEnBanquillo.filter(j => j !== jugadorSeleccionado);
        jugadoresEnBanquillo.push(jugadorSeleccionadoParaCambio.textContent);
        actualizarCancha();
        cargarJugadoresConvocados();
        cargarBanquillo();
        cambioJugadorDiv.style.display = 'none'; // Ocultar la sección de cambio después de confirmar
      }
    });

    // Cargar los jugadores en la cancha y el desplegable al cargar la página
    window.onload = function() {
      actualizarCancha();
      cargarJugadoresConvocados();
    }
  </script>

</body>
</html>
